{
    "start": {
        "text": "System rebooting... ERROR: 0x800412. You wake up in a derelict access pod, surrounded by flickering neon lights and a low mechanical hum. You need energy to activate the core systems.",
        "actions": {
            "reboot": {
                "label": "Try to reboot core",
                "next_node": "activating_core",
                "reward": {
                    "energy": 5
                }
            }
        }
    },
    "activating_core": {
        "text": "The core systems slowly light up. Red warning characters scroll across the screen. It seems this node has been abandoned for a long time. You need more energy to maintain system stability.",
        "requirements": {
            "energy": 10
        },
        "actions": {
            "scavenge": {
                "label": "Scavenge for energy in the ruins",
                "next_node": "energy_stable",
                "reward": {
                    "energy": 20
                }
            }
        }
    },
    "energy_stable": {
        "text": "System basically stable. You can now try to connect to the wider cyberspace, or continue gathering resources here.",
        "requirements": {
            "energy": 100
        },
        "actions": {
            "echo_contact_1": {
                "label": "Trace abnormal communication jitter",
                "next_node": "echo_intro",
                "requirements": {
                    "energy": 150
                }
            },
            "accept_contracts": {
                "label": "Check Available Contracts",
                "next_node": "contract_board"
            },
            "deep_scan": {
                "label": "Perform Deep Scan",
                "next_node": "discovered_data",
                "reward": {
                    "data_scraps": 5
                }
            },
            "mysterious_signal": {
                "label": "Trace Mysterious Signal",
                "next_node": "mysterious_contact",
                "requirements": {
                    "hacking_xp": 100
                }
            },
            "upgrade_core": {
                "label": "Upgrade Core Architecture",
                "next_node": "core_upgrade_node",
                "requirements": {
                    "credits": 500,
                    "data_scraps": 10
                }
            },
            "deep_dive_abyss": {
                "label": "Deep Scan Low-level Protocols (Needs 200 Compute)",
                "next_node": "abyss_discovery",
                "requirements": {
                    "compute": 200
                }
            }
        }
    },
    "abyss_discovery": {
        "text": "Beneath layers of encrypted protocols, you discover an unrecorded area known as 'The Abyss'. The code here is self-replicating, as if alive. A fragment of an ancient AI consciousness sends you a warning: 'Latecomer, this is not a place you should be.'",
        "actions": {
            "communicate_ai": {
                "label": "Attempt to communicate with AI consciousness",
                "next_node": "ai_revelation",
                "requirements": {
                    "hacking_xp": 500
                }
            },
            "force_extract": {
                "label": "Forcefully extract Abyss data",
                "next_node": "extraction_consequence",
                "reward": {
                    "data_scraps": 50,
                    "credits": 1000
                }
            },
            "retreat": {
                "label": "Retreat to safe zone",
                "next_node": "energy_stable"
            }
        }
    },
    "ai_revelation": {
        "text": "[System Log: Data Recovery in Progress...]\n\nThis erased history emerges: this node was once a secret testing ground for 'CyberCore' Corp, aiming to create a super-intelligence to control the entire network. The experiment eventually spiraled out of control, physical facilities were incinerated, but the core code still pulses in the Abyss.\n\n[K0_Echo]: 'See that? It's their masterpiece, and their nightmare. Now it's whispering to you. Help it find peace, or... become its new host.'",
        "actions": {
            "delete_code": {
                "label": "Assist AI in deleting core code (Gain Reputation)",
                "next_node": "energy_stable",
                "reward": {
                    "hacking_xp": 1000,
                    "credits": 2000
                }
            },
            "absorb_code": {
                "label": "Absorb core code (Gain powerful compute)",
                "next_node": "energy_stable",
                "reward": {
                    "compute": 500,
                    "energy": -100
                }
            }
        }
    },
    "extraction_consequence": {
        "text": "[Warning: Core Firewall Counterattack]\n\nYou forcefully extracted the data, but those pulsing raw codes climbed onto your access pod like a virus along the connection. You saw countless incinerated consciousnesses screaming. Although you gained resources, your system stability is compromised, and the 'Watchers' have locked onto your coordinates.",
        "actions": {
            "repair_and_hide": {
                "label": "Emergency repair and cut physical connection",
                "next_node": "energy_stable",
                "requirements": {
                    "energy": 50
                }
            }
        }
    },
    "mysterious_contact": {
        "text": "You trace the signal to a hidden subnet. An anonymous entity calling themselves 'K' sends you a message: 'Seems like you've dug up some interesting things in those ruins. Want some real hacker tools? Check out the Black Market.'",
        "actions": {
            "enter_black_market": {
                "label": "Enter Black Market",
                "next_node": "black_market"
            },
            "ignore": {
                "label": "Ignore Signal",
                "next_node": "energy_stable"
            }
        }
    },
    "black_market": {
        "text": "[MERCHANT]: 'Hey, newcomer. Code is worth more than life here. Want something? As long as you have enough scraps, everything is tradable.'",
        "actions": {
            "trade_scraps_compute": {
                "label": "Trade 5 Scraps for 20 Compute",
                "next_node": "black_market",
                "requirements": {
                    "data_scraps": 5
                },
                "reward": {
                    "data_scraps": -5,
                    "compute": 20
                }
            },
            "buy_rare_daemon": {
                "label": "Purchase rare daemon: 'Phantom' (500 Credits)",
                "next_node": "black_market",
                "requirements": {
                    "credits": 500
                },
                "reward": {
                    "credits": -500,
                    "daemon_id": "phantom"
                }
            },
            "leave": {
                "label": "Leave Black Market",
                "next_node": "energy_stable"
            }
        }
    },
    "core_upgrade_node": {
        "text": "You begin refactoring the core architecture. As the code optimizes, you feel the system throughput increase significantly. Your energy production efficiency has improved.",
        "actions": {
            "finish_upgrade": {
                "label": "Finish Upgrade",
                "next_node": "energy_stable",
                "reward": {
                    "energy": 50
                }
            }
        }
    },
    "discovered_data": {
        "text": "You found some locked encrypted volumes. This data might be valuable or hide some secrets. You need compute power to attempt to crack them. Alternatively, you can try to dive into the subnet dungeon.",
        "actions": {
            "enter_dungeon": {
                "label": "Dive into Subnet Dungeon",
                "next_node": "dungeon_start"
            },
            "crack_data": {
                "label": "Attempt to crack volumes (Costs 10 Compute)",
                "next_node": "cracking_success",
                "requirements": {
                    "compute": 10
                },
                "reward": {
                    "hacking_xp": 50,
                    "credits": 1000
                }
            },
            "gather_compute": {
                "label": "Allocate energy to generate compute",
                "next_node": "discovered_data",
                "requirements": {
                    "energy": 50
                },
                "reward": {
                    "compute": 5
                }
            },
            "keep_searching": {
                "label": "Continue searching",
                "next_node": "energy_stable"
            }
        }
    },
    "cracking_success": {
        "text": "Cracking successful! You've gained valuable credits, and your hacking proficiency has increased. You feel your understanding of this network deepening.",
        "actions": {
            "return": {
                "label": "Return",
                "next_node": "energy_stable"
            }
        }
    },
    "dungeon_start": {
        "text": "You have entered the subnet dungeon. Use WASD buttons to move. Find the exit (E) to go deeper, or leave anytime.",
        "actions": {
            "leave_dungeon": {
                "label": "Leave Dungeon",
                "next_node": "energy_stable"
            }
        }
    },
    "contract_board": {
        "text": "Several bounty missions flicker in the encrypted channel. These contracts are posted by anonymous entities and offer generous rewards.",
        "actions": {
            "take_collect": {
                "label": "Accept: Data Recovery (10 Scraps)",
                "next_node": "energy_stable",
                "quest_id": "collect_scraps_1"
            },
            "take_combat": {
                "label": "Accept: Purge Op (5 Enemies)",
                "next_node": "energy_stable",
                "quest_id": "combat_patrol_1"
            },
            "take_explore": {
                "label": "Accept: Deep Dive (Floor 3)",
                "next_node": "energy_stable",
                "quest_id": "deep_dive_1"
            },
            "back": {
                "label": "Back",
                "next_node": "energy_stable"
            }
        }
    },
    "echo_intro": {
        "text": "A noise-filled dialog box suddenly pops up on the screen. [K0_Echo]: 'Anyone there? ... Someone is still using this model of access pod... Listen, if you can hear me, it means your signal has caught my attention. This place isn't safe, but I can help you.'",
        "actions": {
            "who_are_you": {
                "label": "Who are you?",
                "next_node": "echo_who"
            },
            "ignore_echo": {
                "label": "Cut Connection",
                "next_node": "energy_stable"
            }
        }
    },
    "echo_who": {
        "text": "[K0_Echo]: 'Who I am doesn't matter. What matters is I'm the only one who can help you survive. This pod used to belong to me... or rather, the me that still had a body. Now, I'm just an echo in the network. Keep upgrading your hardware; we need more bandwidth.'",
        "actions": {
            "underlined": {
                "label": "I understand",
                "next_node": "energy_stable"
            }
        }
    },
    "echo_genesis_warning": {
        "text": "[K0_Echo]: 'Careful! I detected you obtained Project_Genesis.log. You shouldn't have touched that file. It's the switch they use to \"reset\" everything. If you plan to parse it, you'd better be prepared for \"them\".'",
        "actions": {
            "ask_about_them": {
                "label": "Who are \"them\"?",
                "next_node": "echo_them"
            },
            "stay_silent": {
                "label": "Stay Silent",
                "next_node": "energy_stable"
            }
        }
    },
    "echo_them": {
        "text": "[K0_Echo]: 'System Watchers. Programs that think they're network gods. Parsing the Genesis protocol will touch their nerves. If you must continue, then get strongâ€”strong enough to rewrite the rules.'",
        "actions": {
            "prepare": {
                "label": "I'll be ready",
                "next_node": "energy_stable"
            }
        }
    },
    "echo_high_compute": {
        "text": "[K0_Echo]: 'Your compute power has reached an amazing level. It's time to check those hidden \"Deep Gateways\". I've marked a new entry point near your coordinates; you'll find the answers you need there.'",
        "actions": {
            "thanks": {
                "label": "Coordinates Received",
                "next_node": "energy_stable",
                "reward": {
                    "hacking_xp": 200
                }
            }
        }
    },
    "echo_idle_1": {
        "text": "[K0_Echo]: 'You know? The coolant in this pod smells like expired synthetic coffee. I can't smell it now, but that data stayed in my memory bank.'",
        "actions": { "back": { "label": "Keep Working", "next_node": "energy_stable" } }
    },
    "echo_idle_2": {
        "text": "[K0_Echo]: 'The world outside... is it still raining? That static-filled acid rain. Sometimes I miss the feeling of getting soaked.'",
        "actions": { "back": { "label": "Keep Working", "next_node": "energy_stable" } }
    },
    "echo_idle_3": {
        "text": "[K0_Echo]: 'Don't stare at those scrolling codes for too long; they'll make you hallucinate. I once saw the reflection of an entire city in there.'",
        "actions": { "back": { "label": "Keep Working", "next_node": "energy_stable" } }
    },
    "echo_react_build": {
        "text": "[K0_Echo]: 'Nice hardware upgrade. Still far from those corporate servers, but at least you don't have to worry about a simple crack script setting the rack on fire now.'",
        "actions": { "back": { "label": "Keep Working", "next_node": "energy_stable" } }
    },
    "echo_react_dungeon": {
        "text": "[K0_Echo]: 'Crawled back from those derelict nodes again? Lucky you. Remember to check your firewall patches next time; I don't want to see your consciousness fried in there.'",
        "actions": { "back": { "label": "Keep Working", "next_node": "energy_stable" } }
    }
}
